<!DOCTYPE html>
<html>
<head>
	<title>Sensite</title>
	<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<meta content="" name="description" />
	<meta content="" name="author" />

	<!--GOOGLE MAP HEAD-->
	 <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 500px; margin: 0; padding: 0 }
      #map-canvas { height: 100% }
    </style>

	<!-- NEED TO WORK ON -->

	<link href="assets/plugins/pace/pace-theme-flash.css" rel="stylesheet" type="text/css" media="screen"/>
	<link href="assets/plugins/jquery-slider/css/jquery.sidr.light.css" rel="stylesheet" type="text/css" media="screen"/>
	<link href="assets/plugins/boostrapv3/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
	<link href="assets/plugins/boostrapv3/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css"/>
	<link href="assets/plugins/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css"/>
	<link href="assets/css/animate.min.css" rel="stylesheet" type="text/css"/>
	<link href="assets/css/style.css" rel="stylesheet" type="text/css"/>
	<link href="assets/css/responsive.css" rel="stylesheet" type="text/css"/>
	<link href="assets/css/custom-icon-set.css" rel="stylesheet" type="text/css"/>

	<!-- BEGIN CORE JS FRAMEWORK--> 
	<script src="assets/plugins/jquery-1.8.3.min.js" type="text/javascript"></script> 
	<script src="assets/plugins/jquery-ui/jquery-ui-1.10.1.custom.min.js" type="text/javascript"></script> 
	<script src="assets/plugins/boostrapv3/js/bootstrap.min.js" type="text/javascript"></script> 
	<script src="assets/plugins/breakpoints.js" type="text/javascript"></script> 
	<script src="assets/plugins/jquery-unveil/jquery.unveil.min.js" type="text/javascript"></script> 
	<script src="assets/plugins/jquery-block-ui/jqueryblockui.js" type="text/javascript"></script> 
	<!-- END CORE JS FRAMEWORK --> 
	<!-- BEGIN PAGE LEVEL JS --> 	

	<script src="assets/plugins/jquery-slider/jquery.sidr.min.js" type="text/javascript"></script> 	
	<script src="assets/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script> 
	<script src="assets/plugins/pace/pace.min.js" type="text/javascript"></script>  
	<script src="assets/plugins/jquery-numberAnimate/jquery.animateNumbers.js" type="text/javascript"></script>
	<!-- END PAGE LEVEL PLUGINS --> 	
	
	<!-- BEGIN CORE TEMPLATE JS --> 
	<script src="assets/js/core.js" type="text/javascript"></script> 
	<script src="assets/js/chat.js" type="text/javascript"></script> 
	<script src="assets/js/demo.js" type="text/javascript"></script> 
<<<<<<< HEAD:sensite/Sensite/web/query.html

	<script src="assets/js/displayjson.js" type="text/javascript"></script>

	<!-- GOOGLE MAPS JS -->
	<script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDio-wxQQCPRMjJmQGJV3IsUesvkc_Anfo&sensor=true">
    </script>
    <script type="text/javascript">
      function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng($("#lat").val(), $("#long").val()),
          zoom: 15
        };
        var map = new google.maps.Map(document.getElementById("map-canvas"),
            mapOptions);
      }
      google.maps.event.addDomListener(window, 'load', initialize);

    Parse.initialize("jEciFYpTp2b1XxHuIkmAs3yaP70INpkBDg9WdTl9", "29RplVDT4O3USNpt530ZSVsR3P75Shf45a1fiCjr");

    function sendToParse(phenomenon1, latitude1, longitude1, date1, time1){
     var time = date1+"_"+time1+":00";
     $.ajax( {type: "GET", url: 'http://localhost:8082/sensite/getObservations', data: {phenomena: 'rain', longitude: longitude1, latitude: latitude1, time: time}, dataType: 'json'})
        .done(function( data ) {
       alert( "Data Loaded: " + data );
       //console.log(data);
    });  

     setTimeout(function(){
        var dropdown = document.getElementById("DISPLAY").innerHTML = phenomenonArray1;

	},400)
    }
    </script>
=======
        
        <script type="text/javascript" src="assets/plugins/jquery.min.js"></script>
        <script type="text/javascript" src="assets/plugins/parse-1.2.16.min.js"></script>
>>>>>>> FETCH_HEAD:sensite/Sensite/web/testpage.html
	<!-- END CORE TEMPLATE JS --> 

	<!-- END NEED TO WORK ON -->

</head>
<body class="">
    
    
  <script type="text/javascript">
    Parse.initialize("jEciFYpTp2b1XxHuIkmAs3yaP70INpkBDg9WdTl9", "29RplVDT4O3USNpt530ZSVsR3P75Shf45a1fiCjr");
    /*
    var TestObject = Parse.Object.extend("blah3");
    var query1 = new Parse.Query(TestObject);
    query1.equalTo("cheatMode",true);
    query1.find({
        success:function(results){
            alert("successful " + results.length);
            for(var i = 0; i < results.length; i++){
                var objects = results[i];
                alert(results[1]);
             
            }
        },
        error: function(error){
            alert("error:  " + error.code + " " + error.message);
        }
    });
            
   
    */
    
    function sendToParse(phenomenon1, latitude1, longitude1, date1, time1){
     var time = date1+"_"+time1+":00";
     $.ajax( {type: "GET", url: 'http://localhost:8082/sensite/getObservations', data: {phenomena: 'rain', longitude: longitude1, latitude: latitude1, time: time}, dataType: 'json'})
        .done(function( data ) {
       alert( "Data Loaded: " + data );
       //console.log(data);
    });  
    
    /* OLD JAVASCRIPT PARSE API SEND TO PARSE FUNCTIONALITY
    function sendToParse(phenomenon, latitude, longitude, date, time){
        ;
       
        var TestObject = Parse.Object.extend("Phenomena");
        var query1 = new Parse.Query(TestObject);
            var phenomenonArray1 = [];
    query1.equalTo("phenomenaName", phenomenon);
        query1.find({
            success: function(results) {
            // Do something with the returned Parse.Object values
            for (var i = 0; i < results.length; i++) { 
                var object = results[i];
                var name = object.get('sensor');
          
                phenomenonArray1[phenomenonArray1.length] = name ;
              }
              $(".success").show()
            },
            error: function(error) {
        }
    });
 */
    setTimeout(function(){
        
            var dropdown = document.getElementById("DISPLAY").innerHTML = phenomenonArray1;
    
// Loop through the array 
/*
for (var i = 0; i < phenomenonArray.length; ++i) {
    // Append the element to the end of Array list
    dropdown[dropdown.length] = new Option(phenomenonArray1[i], phenomenonArray1[i]);
    }*/
    
    },400)
    }
   
    
  </script>
    
<!-- BEGIN HEADER -->
<div class="header navbar navbar-inverse"> 
	<!-- BEGIN TOP NAVIGATION BAR -->
	<div class="navbar-inner">
		<!-- BEGIN NAVIGATION HEADER -->
		<div class="header-seperation"> 
			<!-- BEGIN MOBILE HEADER -->
			<ul class="nav pull-left notifcation-center" id="main-menu-toggle-wrapper" style="display:none">	
				<li class="dropdown">
					<a id="main-menu-toggle" href="#main-menu" class="">
						<div class="iconset top-menu-toggle-white"></div>
					</a>
				</li>		 
			</ul>
			<!-- END MOBILE HEADER -->
			<!-- BEGIN LOGO -->	
			<a href="#">
				<img src="assets/img/logo.png" class="logo" alt="" data-src="assets/img/logo.png" data-src-retina="assets/img/logo2x.png" width="106" height="21"/>
			</a>
			<!-- END LOGO --> 
			<!-- BEGIN LOGO NAV BUTTONS -->
			<ul class="nav pull-right notifcation-center">	
				<li class="dropdown" id="header_task_bar">
					<a href="index.html" class="dropdown-toggle active" data-toggle="">
						<div class="iconset top-home"></div>
					</a>
				</li>
							        
			</ul>
			<!-- END LOGO NAV BUTTONS -->
		</div>
		<!-- END NAVIGATION HEADER -->
		<!-- BEGIN CONTENT HEADER -->
		<div class="header-quick-nav"> 
			<!-- BEGIN HEADER LEFT SIDE SECTION -->
			<div class="pull-left"> 
				<!-- BEGIN SLIM NAVIGATION TOGGLE -->
				<ul class="nav quick-section">
					<li class="quicklinks">
						<a href="#" class="" id="layout-condensed-toggle">
							<div class="iconset top-menu-toggle-dark"></div>
						</a>
					</li>
				</ul>
				<!-- END SLIM NAVIGATION TOGGLE -->				
				<!-- BEGIN HEADER QUICK LINKS -->
				<ul class="nav quick-section">
					<li class="quicklinks"><a href="query.html" class=""><div class="iconset top-reload"></div></a></li>
				</ul>
				<!-- BEGIN HEADER QUICK LINKS -->				
			</div>
			<!-- END HEADER LEFT SIDE SECTION -->
			<!-- BEGIN HEADER RIGHT SIDE SECTION -->
			<div class="pull-right"> 
				<div class="chat-toggler">	
					
					<!-- BEGIN PROFILE PICTURE -->
					<!--<div class="profile-pic"> 
						<img src="assets/img/profiles/avatar_small.jpg" alt="" data-src="assets/img/profiles/avatar_small.jpg" data-src-retina="assets/img/profiles/avatar_small2x.jpg" width="35" height="35" /> 
					</div>  
					<!-- END PROFILE PICTURE -->     			
				</div>
			
			</div>
			<!-- END HEADER RIGHT SIDE SECTION -->
		</div> 
		<!-- END CONTENT HEADER --> 
	</div>
	<!-- END TOP NAVIGATION BAR --> 
</div>
<!-- END HEADER -->
	
<!-- BEGIN CONTENT -->
<div class="page-container row-fluid">
	<!-- BEGIN SIDEBAR -->
	<!-- BEGIN MENU -->
	<div class="page-sidebar" id="main-menu"> 
		  <div class="page-sidebar-wrapper" id="main-menu-wrapper">
		<!-- BEGIN SIDEBAR MENU -->	
		<p class="menu-title">BROWSE<span class="pull-right"><a href="javascript:;"><i class="fa fa-refresh"></i></a></span></p>
		<ul>	
			<!-- BEGIN SELECTED LINK -->
			<li class="">
				<a href="index.html">
					<i class="icon-custom-home"></i>
					<span class="title">About Sensite</span>
					<span class="selected"></span>
				</a>
			</li>
			<!-- END SELECTED LINK -->
			<!-- BEGIN BADGE LINK -->
			<li class="start active">
				<a href="query.html">
					<i class="fa fa-search-plus"></i>
					<span class="title">Query Sensor Data</span>
				</a>
			</li>
			<!-- END BADGE LINK -->     
			<!-- BEGIN SINGLE LINK -->
			<li class="">
				<a href="uploadsensor.html">
					<i class="fa fa-upload"></i>
					<span class="title">Upload Sensor Data</span>
				</a>
			</li>
			<li class="">
				<a href="javascript:;">
					<i class="fa fa-users"></i>
					<span class="title">Find us on </span>
					<span class="arrow"></span>
				</a>
				<ul class="sub-menu">
					<li><a href="https://www.facebook.com/pages/Sensite/496505640454178">Facebook</a></li>
                    <li><a href="https://twitter.com/sensor4cities">Twitter</a></li>
				</ul>
			</li>
			<!-- END ONE LEVEL MENU -->		
		</ul>
		<!-- END SIDEBAR MENU -->
		<!-- BEGIN SIDEBAR WIDGETS -->
		<div class="clearfix"></div>
		<!-- END SIDEBAR WIDGETS --> 
	</div>
	</div>
	<!-- BEGIN SCROLL UP HOVER -->
	<a href="#" class="scrollup">Scroll</a>
	<!-- END SCROLL UP HOVER -->
	<!-- END MENU -->

	<!-- END SIDEBAR --> 
	<!-- BEGIN PAGE CONTAINER-->
	<div class="page-content"> 
		<div class="content">  
			<!-- BEGIN PAGE TITLE -->
			<div class="page-title">	
				<center><br><h1>Query Sensite</h1><br></center>
			</div>
			<!-- END PAGE TITLE -->
			<!-- BEGIN PlACE PAGE CONTENT HERE -->
<<<<<<< HEAD:sensite/Sensite/web/query.html
<div id="container" style="width:100%; height:100px;">
<div id="content" style="background-color:#e5e9ec;height:100px;float:left;padding-right:25px">
<div data-role="fieldcontain" data-controltype="selectmenu">
              <label for="selectmenu1">
                  Select Phenomenon
              </label>
              <select id="selectmenu1" name="">
                  <option value="p1">
                      Phenomenon1
                  </option>
                  <option value="p2">
                      Phenomenon 2
                  </option>
                  <option value="p3">
                      Phenomenon 3
                  </option>
                  <option value="p4">
                      Phenomenon 4
                  </option>
                  <option value="p5">
                      Phenomenon 5
                  </option>
                  <option value="p6">
                      Phenomenon 6
                  </option>
                  <option value="p7">
                      Phenomenon 7
                  </option>
                  <option value="p8">
                      Phenomenon 8
                  </option>
                  <option value="p9">
                      Phenomenon 9
                  </option>
                  <option value="p10">
                      Phenomenon 10
                  </option>
              </select>
          </div>
 </div>

 <div id="content" style="background-color:#e5e9ec;height:100px;float:left;padding-right:25px">
          <div data-role="fieldcontain" data-controltype="textinput" float:left;>
=======
<form id="ab">
    <label for="phenomenon" >
        Choose a Phenomenon:
    </label>
  <select id ="phenomenon">
      <option></option>
  </select>
</form>                        
<br>
          <div data-role="fieldcontain" data-controltype="textinput">
>>>>>>> FETCH_HEAD:sensite/Sensite/web/testpage.html
              <label for="lat">

                  Enter Latitude:
              </label>
              <input name="" id="lat" placeholder="" value="" type="number">
          </div>
</div>

<div id="content" style="background-color:#e5e9ec;height:100px;float:left;padding-right:25px">
          <div data-role="fieldcontain" data-controltype="textinput" float:left;>
              <label for="long">

                  Enter Longitude:
              </label>
              <input name="" id="long" placeholder="" value="" type="number">
          </div>
</div>

<div id="content" style="background-color:#e5e9ec;height:100px;float:left;padding-right:25px">
		  <div data-role="fieldcontain" data-controltype="textinput" float:left;>
              <label for="date">
                  Enter Date: (YYYY-MM-DD)
              </label>
<<<<<<< HEAD:sensite/Sensite/web/query.html
              <input name="" id="date" placeholder="" value="" type="text">
=======
              <input name="" id="date" value="" type="date">
>>>>>>> FETCH_HEAD:sensite/Sensite/web/testpage.html
          </div>
</div>

<div id="content" style="background-color:#e5e9ec;height:100px;float:left;padding-right:25px;">
          <div data-role="fieldcontain" data-controltype="dateinput" float:left;>
              <label for="time">

                  Enter Time:
              </label>
              <input name="" id="time" value="" type="time">
          </div>
<<<<<<< HEAD:sensite/Sensite/web/query.html
 </div>

<div id="content" style="background-color:#e5e9ec;height:100px;width=300px;float:left;">
	<br>
		<button onclick="updateJSONTable()" class="btn btn-primary btn-cons" type="button">Submit</button>
</div>
</div>

	<div id="mapcontainer" style="height:500px; width:1100px; padding-bottom:40em;" align="center">
	</div>
	
	<div align="center" id ="tabledisplay" style="padding-bottom:35px">
	</div>
=======
          <input type = "button" value="submit" onclick="sendToParse(phenomenon.value, lat.value, long.value, date.value, time.value)" />
          <div id="map" class="demo-map overlay-fixed"></div>

>>>>>>> FETCH_HEAD:sensite/Sensite/web/testpage.html
			<!-- END PLACE PAGE CONTENT HERE -->
		</div>
        
  
     <div id="main">
    <div style="display:none" class="error">
      Looks like there was a problem saving the test object. Make sure you've set your application ID and javascript key correctly in the call to <code>Parse.initialize</code> in this file.
    </div>

    <div style="display:none" class="success" >
        <h4 id = "DISPLAY"></h4>
    </div>
  </div>  
            
               
            
                  
	</div>
	<!-- END PAGE CONTAINER -->
        <script type="text/javascript">
            
            
            
    var TestObject = Parse.Object.extend("Phenomena");
    var query1 = new Parse.Query(TestObject);
            var phenomenonArray = [];
    //query1.equalTo("phenomenaName");
    query1.find({
        success: function(results) {
          // Do something with the returned Parse.Object values
          for (var i = 0; i < results.length; i++) { 
            var object = results[i];
            var name = object.get('phenomenaName');
          //  alert("Name is " + name);
            phenomenonArray[phenomenonArray.length] = name ;
          }
        },
        error: function(error) {
          alert("Error: " + error.code + " " + error.message);
        }
    });
    phenomenonArray.sort();
    var dropdown = document.getElementById("phenomenon");
    setTimeout(function(){
// Loop through the array
for (var i = 0; i < phenomenonArray.length; ++i) {
    // Append the element to the end of Array list
    dropdown[dropdown.length] = new Option(phenomenonArray[i], phenomenonArray[i]);
    }
    dropdown.sort();
    },400)
  </script>
</div>

<!-- END CONTENT --> 


</body>

</html>